<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
  <meta charset="UTF-8">
  <title>Contact Us</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <link rel="stylesheet" th:href="@{/css/aboutstyles.css}">
  <link rel="stylesheet" th:href="@{/css/services.css}">
  <link rel="stylesheet" th:href="@{/css/blog.css}">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" th:href="@{/css/contactus.css}">
</head>
<body>

 <main layout:fragment="content">
 <div class="services-header">
  <h2>Contact <span class="brand">Us</span></h2>
        <p>
            We love talking about what we do and hearing about what you need.<br>
            Come find us on the social tubes!
        </p>
        </div>
<section class="contact-section">
  <div class="contact-container">
    <div class="contact-wrapper">
      
      <!-- Left: Form -->
      <div class="contact-form">
        <h2>Drop us a line</h2>
        <p>Weâ€™ll get back to you as soon as possible.</p>

        <form id="contactForm" th:action="@{/contact/save}" method="post" th:object="${contactMessage}">
          <div class="form-row">
            <input type="text" name="name" placeholder="Name *" required>
            <input type="email" name="email" placeholder="Email *" required>
          </div>

          <div class="form-row">
            <input type="text" name="location" placeholder="Location *" required>
          </div>

          <div class="form-row">
            <input type="text" name="phone" placeholder="Phone *" required>
            <select name="service" required>
              <option value="">Select Service</option>
              <option>Consulting</option>
              <option>Manpower Supply</option>
              <option>HR Solutions</option>
              <option>Web Development</option>
              <option>Internships</option>
              <option>Real Estate</option>
            </select>
          </div>

          <textarea name="message" placeholder="Message"></textarea>
          <!-- Google reCAPTCHA for Dev-->
          <div class="g-recaptcha" data-sitekey="6LcGzq0rAAAAAMG4cv7oq69qCE6ZWtqvOHllzLvS"></div>
          <!-- Google reCAPTCHA for prod-->
          <!-- <div class="g-recaptcha" data-sitekey="6LcnBLgrAAAAAPSJ48eqUP46JEYWNeZFxhcmKfOz"></div> -->
          <button type="submit" class="btn-submit">Submit</button>
        </form>
      </div>

      <!-- Success Modal -->
      <div id="successModal" class="success-modal" th:if="${successMessage}" style="display:none;">
        <div class="success-modal-content">
          <p th:text="${successMessage}"></p>
          <button onclick="closeSuccessModal()">OK</button>
        </div>
      </div>

      <!-- Right: Address -->
      <div class="contact-info">
        <h2>Reach us</h2>
        <p>
          Niti Vision Private Limited<br>
          Kasna,<br>
          Greater Noida,<br>
          Uttar Pradesh 201310
        </p>
        <p><strong>Give us a ring:</strong> +91 8106433217</p>
        <p><strong>Email:</strong> nitivisionglobal@gmail.com</p>
      </div>
    </div>
  </div>
  <div class="map-container">
          <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3500.832849611758!2d77.51048017550382!3d28.47438787574774!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390cc1387e5dcd1b%3A0xe063a492f6ed15e2!2sKasna%2C%20Greater%20Noida%2C%20Uttar%20Pradesh%20201310!5e0!3m2!1sen!2sin!4v1692623456789"
            width="100%" 
            height="250" 
            style="border:0;" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>
</section>

<div class="partners-title">Our Partners</div>
<div class="swiper mySwiperHorizontal">
  <div class="swiper-wrapper">
    <div class="swiper-slide"><a href="https://www.flipkartcareers.com/#!/%23!" target="_blank"><img th:src="@{/images/flipcart.jpg}" alt="" /></a></div>
    <div class="swiper-slide"><a href="https://blinkit.com/careers/aboutus?srsltid=AfmBOoqlghpKNMXC3MqTVlXkKAh1gs2kWzwj-fzEo7pqRUGihiL6uqok" target="_blank"><img th:src="@{/images/blinkit.jpg}" alt="" /></a></div>
    <div class="swiper-slide"><a href="https://relianceretail.com/reliance-digital.html" target="_blank"><img th:src="@{/images/reliancedigi.jpg}" alt="" /></a></div>
    <div class="swiper-slide"><a href="https://careers.bigbasket.com/#OurJourney" target="_blank"><img th:src="@{/images/bigbasket.jpg}" alt="" /></a></div>
    <div class="swiper-slide"><a href="https://life.myntra.com/myntra-life/" target="_blank"><img th:src="@{/images/myntra.jpg}" alt="" /></a></div>
    <div class="swiper-slide"><a href="https://www.angelone.in/careers" target="_blank"><img th:src="@{/images/telecaller.jpg}" alt="" /></a></div>
    <div class="swiper-slide"><img th:src="@{/images/hospital.jpg}" alt="" /></div>
    <!-- Add more as needed -->
  </div>
  <!-- Navigation buttons -->
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
  <div class="swiper-pagination"></div>
</div>

</main>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script>
document.getElementById("contactForm").addEventListener("submit", function(event) {
  let isValid = true;
  let messages = [];

  // Name validation
  let name = document.querySelector("input[name='name']").value.trim();
  if (name.length < 3) {
    isValid = false;
    messages.push("Name must be at least 3 characters.");
  }

  // Email validation
  let email = document.querySelector("input[name='email']").value.trim();
  let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailPattern.test(email)) {
    isValid = false;
    messages.push("Please enter a valid email address.");
  }

  // Location validation
  let location = document.querySelector("input[name='location']").value.trim();
  if (location === "") {
    isValid = false;
    messages.push("Location is required.");
  }

  // Phone validation (10 digits for India)
  let phone = document.querySelector("input[name='phone']").value.trim();
  let phonePattern = /^[0-9]{10}$/;
  if (!phonePattern.test(phone)) {
    isValid = false;
    messages.push("Phone number must be 10 digits.");
  }

  // Service dropdown validation
  let service = document.querySelector("select[name='service']").value;
  if (service === "") {
    isValid = false;
    messages.push("Please select a service.");
  }

  // reCAPTCHA validation
  let recaptchaResponse = grecaptcha.getResponse();
  if (recaptchaResponse.length === 0) {
    isValid = false;
    messages.push("Please verify that you are not a robot.");
  }

  // If validation fails
  if (!isValid) {
    alert(messages.join("\n"));
    event.preventDefault();
  }
});
</script>

</body>
</html>
