<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/png" th:href="@{/images/logo1.svg}">
  <title >NITI Vision</title>
  <!-- Bootstrap & Swiper -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

  <!-- Custom CSS -->
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <link rel="stylesheet" th:href="@{/css/aboutstyles.css}">
  <link rel="stylesheet" th:href="@{/css/services.css}">
  <link rel="stylesheet" th:href="@{/css/blog.css}">
  <link rel="stylesheet" th:href="@{/css/blog.css}">
 <!--  <link rel="stylesheet" th:href="@{/css/desktopmobileview.css}"> -->
  

  <style>
    .modal-header { background-color: #004d4d; color: white; }
    .form-control, .form-select { margin-bottom: 10px; }
  </style>
</head>
<body>

<!-- ðŸ”¹ Navbar -->
<header>
  <div class="logo">
    <img th:src="@{/images/logo1.svg}" alt="Logo" width="200"/>
    <div class="logo-text"><strong>NITIVISION</strong></div>
  </div>
  <nav>
    <a href="/index">HOME</a>
    <a href="/about">ABOUT US</a>
    <div class="dropdown">
      <a href="/services">SERVICES â–¾</a>
      <div class="dropdown-content">
        <a href="/consulting">Consulting</a>
        <a href="/manpower">Manpower Supply</a>
        <a href="/hrsolution">HR Solutions</a>
        <a href="/web-development">Web Development</a>
        <a href="/internship">Internships</a>
        <a href="/realestate">Real Estate</a>
      </div>
    </div>
    <a href="/portfolio">PORTFOLIO</a>
    <a href="/blog">BLOG</a>
    <a href="/contact">CONTACT</a>
    <a href="/career">CAREER</a>
  </nav>
  <div class="menu-toggle" onclick="toggleMenu()">&#9776;</div>

  <!-- Slide-in Side Menu -->
  <div id="sideMenu" class="side-menu">
    <p><strong>Hello, Welcome to Niti Vision</strong></p>
    <p>Search Services, Portfolios & More</p>
    <button class="login-btn" onclick="location.href='/login'">Login/Register</button>
    <a href="/forgot-password">Forgot Password?</a>
  </div>

  <!-- ðŸ”¹ Mobile Side Menu -->
  <div id="sideMenu" class="side-menu">
    <p><strong>Hello, Welcome to Niti Vision</strong></p>
    <p>Search Services, Portfolios & More</p>
    <div class="auth-box">
      <button class="login-btn" onclick="location.href='/login'">Login</button>
      <button class="register-btn" onclick="location.href='/register'">Register</button>
      <a href="/forgot-password" class="forgot-link">Forgot Password?</a>
    </div>
  </div>
  
  
</header>

<!-- ðŸ”¹ Dynamic Page Content -->
<main layout:fragment="content"></main>

<!-- ðŸ”¹ Footer -->
<footer>
  <div>
    <h4>PROJECT NITI VISION</h4>
    To build a skilled, self-reliant workforce and boost product innovation across sectors...
  </div>
  <div>
    <h4>QUICK LINKS</h4>
    <a href="/index">Home</a>
    <a href="/about">About Us</a>
    <a href="/services">Services</a>
    <a href="/portfolio">Portfolio</a>
    <a href="/blog">Blog</a>
    <a href="/contact">Contact Us</a>
    <a href="/career">Career</a>
  </div>
  <div>
    <h4>GET IN TOUCH</h4>
    Address: KASNA, Road no-1<br>
    PIN Code: 201310<br>
    Phone: 7249850707

    <!-- Social Media -->
    <div class="social-icons">
      <a href="https://www.facebook.com/nitivisionglobal" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook" /></a>
      <a href="https://www.instagram.com/nitivisionglobal" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram" /></a>
      <a href="https://www.linkedin.com/company/nitivisionglobal" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png" alt="LinkedIn" /></a>
      <a href="https://www.youtube.com/@nitivisionglobal" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="YouTube" width="32" height="32"/></a>
    </div>
  </div>

  <!-- WhatsApp Floating Button -->
  <div class="whatsapp-help-container">
    <a href="https://wa.me/+918106433217" class="whatsapp-float" target="_blank" title="Chat with us">
      <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" width="32" height="32"/>
    </a>
    <div class="help-tooltip">Need Help?</div>
  </div>
</footer>

<div class="copyright">
  Â© 2025 All Rights Reserved by NITI Vision.
</div>

<!-- ðŸ”¹ Popup Modal -->
<div class="modal fade" id="contactModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Drop us a line</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>Weâ€™ll get back to you as soon as possible.</p>
        <form id="contactForm">
          <input type="text" name="name" class="form-control" placeholder="Name *" required>
          <input type="email" name="email" class="form-control" placeholder="Email *" required>
          <input type="text" name="phone" class="form-control" placeholder="Phone *" required>
          <input type="text" name="location" class="form-control" placeholder="Location *" required>
          <select name="service" class="form-select" required>
            <option value="">Select Service</option>
            <option>Consulting</option>
            <option>Manpower Supply</option>
            <option>HR Solutions</option>
            <option>Web Development</option>
            <option>Internships</option>
            <option>Real Estate</option>
          </select>
          <textarea name="message" class="form-control" placeholder="Message" rows="3" required></textarea>
          <!-- Google reCAPTCHA -->
          <div class="g-recaptcha" data-sitekey="6LcGzq0rAAAAAMG4cv7oq69qCE6ZWtqvOHllzLvS"></div>
          <button type="submit" class="btn btn-primary w-100 mt-3">Submit</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- ðŸ”¹ Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script th:src="@{/js/script.js}"></script>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<!-- <script th:src="@{/js/desktopmobileview.js}"></script> -->

<script>
document.addEventListener("DOMContentLoaded", () => {
  let formSubmitted = false;
  const contactModal = new bootstrap.Modal(document.getElementById('contactModal'));

  // Show popup every 10s until submitted
  const interval = setInterval(() => {
    if (!formSubmitted) {
      contactModal.show();
    } else {
      clearInterval(interval);
    }
  }, 1000000);

  // Submit handler
  document.getElementById('contactForm').addEventListener('submit', function (e) {
    e.preventDefault();
    const recaptchaResponse = grecaptcha.getResponse();
    if (recaptchaResponse.length === 0) {
      alert("Please verify that you are not a robot.");
      return;
    }
    const data = {
      name: this.name.value,
      email: this.email.value,
      phone: this.phone.value,
      location: this.location.value,
      service: this.service.value,
      message: this.message.value
    };

    fetch('/savepopup', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    }).then(r => {
      if (r.ok) {
        alert('Thanks! Your response has been saved.');
        formSubmitted = true;
        contactModal.hide();
      } else {
        alert('Error submitting form.');
      }
    });
  });
});
</script>
</body>
</html>
